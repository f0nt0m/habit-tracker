# Изменения

## 1. Перенос логики работы с данными на сервер
- **Что изменено:**  
  Логика работы с LocalStorage перенесена из клиентского кода (app.js) на сервер (server/server.js) с использованием модуля `node-localstorage`.
- **Почему:**  
  Теперь все операции по загрузке, добавлению и обновлению привычек происходят через REST API, что разделяет клиентскую и серверную логику.

## 2. Разделение кода по состояниям: state_ui и state_data
- **Что изменено:**  
  Созданы два объекта:
    - `state_ui` для хранения ссылок на DOM-элементы.
    - `state_data` для хранения данных приложения (привычки и текущий фильтр).
- **Почему:**  
  Это улучшает организацию кода, позволяя явно разделять логику работы с интерфейсом и бизнес-логику.

## 3. Реорганизация порядка вызова функций
- **Что изменено:**  
  Установка обработчиков событий и вызов функций `loadHabits()` и `renderHabits()` перенесены в обработчик `DOMContentLoaded`.  
  Функции определены ниже основной логики для улучшения читаемости.
- **Почему:**  
  Это позволяет сначала настроить все обработчики, а затем корректно загрузить и отобразить данные.

## 4. Клиентский код обращается к серверу через API
- **Что изменено:**  
  Функции `loadHabits()`, `addHabit()` и `toggleHabitCompletion()` теперь выполняют запросы к серверу (fetch), а не работают напрямую с LocalStorage.
- **Почему:**  
  Такой подход позволяет централизованно управлять данными на сервере и облегчает масштабирование и поддержку приложения.

---